# Just No - 40 PTS
A program at /problems/f6ae7c5798439ab46292af914f47b170 has access to a flag but refuses to share it. Can you convince it otherwise?

## Hint
Check out the difference between relative and absolute paths and see if you can figure out how to use them to solve this challenge. Could you possibly spoof another auth file it looks at instead...?

# Write Up
Change Directory to /problems/f8fc794974ad619254d983bc423608c6, from the terminal.

`cd /problems/f6ae7c5798439ab46292af914f47b170`

once here list contents of the directory

`ls`

you'll see 4 files, 

> auth  flag  justno  justno.c

First try to read the flag

`cat flag`

Oh no permission is denied, okay try to run Just No

`./justno`

Apparently the auth file is telling justno that we aren't authorized, might as well see what the auth file says

`cat auth`
>no

Okay then, so we have to make the auth file say yes, but read the hint. Its talking about relative and absolute paths, so from here take a look at the paths that justno is following to read the auth file, cat justno.c

`cat justno.c`

```python
#include <stdio.h>                                                                       
#include <stdlib.h>                                                                      
#include <string.h>                                                                      
#include <unistd.h>                                                                      
#include <sys/types.h>                                                                   
                                                                                         
int main(int argc, char **argv){                                                         
  FILE* authf = fopen("../../problems/f6ae7c5798439ab46292af914f47b170/auth","r"); //acce
ss auth file in ../../../problems/f6ae7c5798439ab46292af914f47b170                       
  if(authf == NULL){                                                                     
    printf("could not find auth file in ../../problems/f6ae7c5798439ab46292af914f47b170/\
n");                                                                                     
    return 0;                                                                            
  }                                                                                      
  char auth[8];                                                                          
  fgets(auth,8,authf);                                                                   
  fclose(authf);                                                                         
  if(strcmp(auth,"no")!=0){                                                              
    FILE* flagf;                                                                         
    flagf = fopen("/problems/f6ae7c5798439ab46292af914f47b170/flag","r");                
    char flag[64];                                                                       
    fgets(flag,64,flagf);                                                                
    printf("Oh. Well the auth file doesn't say no anymore so... Here's the flag: %s",flag
);                                                                                       
    fclose(flagf);                                                                       
  }else{                                                                                 
    printf("auth file says no. So no. Just... no.\n");                                   
  }                                                                                      
  return 0;                                                              
```
Theres a bit here, most of which I'm not going to explain, but the important parts are:

```python
FILE* authf = fopen("../../problems/f6ae7c5798439ab46292af914f47b170/auth","r");
```

This part of the script is saying, go up 2 levels and then down into the problems folder. Its not defining what those 2 levels should be. So we can bypass this by creating an auth file for it to look for somwhere else as long as the parent folders are problems/f6ae7c5798439ab46292af914f47b170/ 

Refresh the console so you are back in your home directory, verify this by using the pwd command, print working directory

`pwd`

You should see home/username, if not cd through the directories til youre where youre supposed to be.

Now that youre here lets make a fake auth file! First the folders

`mkdir problems`

Then the specific folder

`mkdir problems/f6ae7c5798439ab46292af914f47b170`

Now according to justno the auth file needs to say something other than no, lets make it say yes, we can do so by using echo, which repeats the argument we give it and then creating the auth file using double carrots ">>", this basically says send this echo response into a new file.

`echo "Yes" >> problems/f6ae7c5798439ab46292af914f47b170/auth`

now change directories into your new problem folder and check out your auth file

`cd problems/f6ae7c5798439ab46292af914f47b170
cat auth`

Pretty nifty huh? we have an auth file that says yes, and we've pretty much replicated the file directory architecture that just no is looking for. Now to execute it.

So the justno script goes up 2 directories, and from there should be a problems folder, so if youre where your new auth file is 2 directories up would be your user folder. From there the script will look for a problems folder, fancy that theres a problems folder in your home directory. Give the script a whirl from your current location.

`problems/f6ae7c5798439ab46292af914f47b170/justno`
>Oh. Well the auth file doesn't say no anymore so... Here's the flag: 08c0c2008f63cd44596d
c13be08dd3ac     

You should have got the result above, your flag likely differs. Congrats! you just learned what a relative path is! See the resources for more info regarding relative paths.

# Resources
http://www.coffeecup.com/help/articles/absolute-vs-relative-pathslinks/
